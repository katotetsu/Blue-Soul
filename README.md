# Blue Soul - ã‚«ã‚¿ãƒ¼ãƒ¬å¯Œå±±å¿œæ´æ­Œã‚¢ãƒ—ãƒª

ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æŠ•ç¥¨æ©Ÿèƒ½ä»˜ãã®ã‚µãƒƒã‚«ãƒ¼å¿œæ´æ­Œï¼ˆãƒãƒ£ãƒ³ãƒˆï¼‰ã‚¢ãƒ—ãƒªã§ã™ã€‚è¦³å®¢ã®æŠ•ç¥¨ã«åŸºã¥ã„ã¦ç¾åœ¨æ­Œã‚ã‚Œã¦ã„ã‚‹ãƒãƒ£ãƒ³ãƒˆã‚’è¡¨ç¤ºã—ã€ãƒãƒ£ãƒ³ãƒˆæ¤œç´¢ãƒ»å†ç”Ÿæ©Ÿèƒ½ã‚‚æä¾›ã—ã¾ã™ã€‚

## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js 15.3.1 (App Router), React 19, TypeScript
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS 4, Radix UI
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Firebase (Firestore, Cloud Functions)
- **ã‚¢ã‚¤ã‚³ãƒ³**: Lucide React, React Icons
- **é–‹ç™ºãƒ„ãƒ¼ãƒ«**: ESLint, Husky, Lint-staged

## ğŸ“‹ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã«`.env.local`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€Firebaseè¨­å®šã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```env
NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_auth_domain
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_storage_bucket
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_messaging_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id
```

### 3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
npm run dev
```

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ [http://localhost:3000](http://localhost:3000) ã§èµ·å‹•ã—ã¾ã™ã€‚

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
blue-soul/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
â”‚   â”‚   â”œâ”€â”€ ClientLayout.tsx    # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ page.tsx           # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ï¼ˆchant_currentã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼‰
â”‚   â”‚   â”œâ”€â”€ chant_current/     # ç¾åœ¨ã®ãƒãƒ£ãƒ³ãƒˆãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ chant_search/      # ãƒãƒ£ãƒ³ãƒˆæ¤œç´¢ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ share/             # å…±æœ‰æ©Ÿèƒ½ãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ globals.css        # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ common/            # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆHeader, Footerï¼‰
â”‚   â”‚   â”œâ”€â”€ chantCurrent/      # ç¾åœ¨ãƒãƒ£ãƒ³ãƒˆè¡¨ç¤ºé–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ appShare/          # å…±æœ‰æ©Ÿèƒ½é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ ui/                # åŸºæœ¬UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ features/              # æ©Ÿèƒ½åˆ¥ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ chants/           # ãƒãƒ£ãƒ³ãƒˆé–¢é€£
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts      # å‹å®šç¾©
â”‚   â”‚   â”‚   â”œâ”€â”€ fetchChants.ts      # å…¨ãƒãƒ£ãƒ³ãƒˆå–å¾—
â”‚   â”‚   â”‚   â”œâ”€â”€ fetchTeamChants.ts  # ãƒãƒ¼ãƒ ãƒãƒ£ãƒ³ãƒˆå–å¾—
â”‚   â”‚   â”‚   â””â”€â”€ useChantData.ts     # ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ votes/            # æŠ•ç¥¨é–¢é€£
â”‚   â”‚       â”œâ”€â”€ types.ts      # å‹å®šç¾©
â”‚   â”‚       â”œâ”€â”€ generateFingerprint.ts  # ãƒ¦ãƒ¼ã‚¶ãƒ¼è­˜åˆ¥
â”‚   â”‚       â”œâ”€â”€ sendVote.ts   # æŠ•ç¥¨é€ä¿¡
â”‚   â”‚       â””â”€â”€ useVoting.ts  # æŠ•ç¥¨ãƒ­ã‚¸ãƒƒã‚¯ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â””â”€â”€ ChantContext.tsx  # ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ç®¡ç†ï¼ˆReact Contextï¼‰
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ firebase.ts       # Firebaseè¨­å®š
â”‚       â””â”€â”€ utils.ts          # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”œâ”€â”€ functions/                # Firebase Cloud Functions
â”œâ”€â”€ public/                   # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ package.json             # ä¾å­˜é–¢ä¿‚ã¨ npm ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ README.md               # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ¯ ä¸»è¦æ©Ÿèƒ½

### 1. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ 
- **æŠ•ç¥¨ã‚µã‚¤ã‚¯ãƒ«**: æ¯åˆ†5ç§’ã€œ60ç§’ãŒæŠ•ç¥¨æ™‚é–“ã€0ç§’ã€œ5ç§’ãŒé›†è¨ˆãƒ»è¡¨ç¤ºæ™‚é–“
- **é‡è¤‡é˜²æ­¢**: ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆæŠ€è¡“ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼è­˜åˆ¥
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**: Firestoreãƒªã‚¹ãƒŠãƒ¼ã§å³åº§ã«çµæœåæ˜ 

### 2. ãƒãƒ£ãƒ³ãƒˆæ¤œç´¢ãƒ»å†ç”Ÿ
- **ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢**: ãƒãƒ£ãƒ³ãƒˆåãƒ»æ­Œè©ã§ã®æ¤œç´¢
- **ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ãƒ¼**: ãƒãƒ¼ãƒ ãƒ»å€‹äººã§ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- **YouTubeé€£æº**: æ¥½æ›²ã®è‡ªå‹•å†ç”Ÿæ©Ÿèƒ½

### 3. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- **ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³æœ€é©åŒ–
- **ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå¯¾å¿œ**: ä¸­ã‚µã‚¤ã‚ºç”»é¢ã«ã‚‚å¯¾å¿œ

## ğŸ”¥ Firebaseé€£æº

### Firestoreã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ 

```
collections:
â”œâ”€â”€ chants/           # å¿œæ´æ­Œãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ {chantId}
â”‚   â”‚   â”œâ”€â”€ name: string
â”‚   â”‚   â”œâ”€â”€ lyrics: string
â”‚   â”‚   â”œâ”€â”€ tags: string[]
â”‚   â”‚   â”œâ”€â”€ playTime?: number
â”‚   â”‚   â”œâ”€â”€ year?: number
â”‚   â”‚   â””â”€â”€ youtubeUrl?: string
â”œâ”€â”€ votes/            # æŠ•ç¥¨ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ {voteId}
â”‚   â”‚   â”œâ”€â”€ chantId: string
â”‚   â”‚   â”œâ”€â”€ fingerprint: string
â”‚   â”‚   â””â”€â”€ timestamp: Timestamp
â””â”€â”€ currentChant/     # ç¾åœ¨è¡¨ç¤ºä¸­ã®ãƒãƒ£ãƒ³ãƒˆ
    â”œâ”€â”€ {currentId}
    â”‚   â”œâ”€â”€ chantId: string
    â”‚   â”œâ”€â”€ name: string
    â”‚   â”œâ”€â”€ lyrics: string
    â”‚   â”œâ”€â”€ tags: string[]
    â”‚   â”œâ”€â”€ voteCount: number
    â”‚   â””â”€â”€ updatedAt: Timestamp
```

### Cloud Functions

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®Functioné–‹ç™º
cd functions
npm install
npm run serve
```

- **updateCurrentChant**: æ¯åˆ†å®Ÿè¡Œã•ã‚Œã‚‹æŠ•ç¥¨é›†è¨ˆé–¢æ•°

## ğŸ› ï¸ é–‹ç™ºã‚¬ã‚¤ãƒ‰

### ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®æ´»ç”¨

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯æ©Ÿèƒ½åˆ¥ã«ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’åˆ†é›¢ã—ã¦ã„ã¾ã™ï¼š

```tsx
// æŠ•ç¥¨æ©Ÿèƒ½ã®åˆ©ç”¨
import { useVoting } from '@/features/votes/useVoting';

const { cooldown, isVoting, canVote, hasVoted, handleVote } = useVoting();

// ãƒ‡ãƒ¼ã‚¿å–å¾—ã®åˆ©ç”¨
import { useChantData } from '@/features/chants/useChantData';

const { teamChants, latestCurrentChant, isLoading } = useChantData();
```

### æ–°è¦ãƒšãƒ¼ã‚¸ã®è¿½åŠ 

1. `src/app/` é…ä¸‹ã«æ–°ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
2. `page.tsx` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®
3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ©Ÿèƒ½ãŒå¿…è¦ãªå ´åˆã¯ `'use client'` ã‚’è¿½åŠ 

```tsx
'use client'

import Header from '@/components/common/Header';
import Footer from '@/components/common/Footer';

export default function NewPage() {
  return (
    <div className="relative h-screen bg-[#F1F2F6]">
      <Header />
      {/* ãƒšãƒ¼ã‚¸å›ºæœ‰ã®å†…å®¹ */}
      <Footer />
    </div>
  );
}
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‘½åè¦å‰‡

- **Pages**: `PascalCase` + `Page` suffix
- **Components**: `PascalCase`
- **Hooks**: `use` + `PascalCase`
- **Utils**: `camelCase`

## ğŸ“± UI/UXä»•æ§˜

### ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
- **ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ¼**: `#0D277E` (ã‚«ã‚¿ãƒ¼ãƒ¬å¯Œå±±å…¬å¼ã‚«ãƒ©ãƒ¼)
- **èƒŒæ™¯**: `#F1F2F6` (æ˜ã‚‹ã„ã‚°ãƒ¬ãƒ¼)
- **ãƒ†ã‚­ã‚¹ãƒˆ**: é»’ãƒ»ç™½ãƒ»ã‚°ãƒ¬ãƒ¼ç³»

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ
- **ãƒ¢ãƒã‚¤ãƒ«**: `max-width: 768px`
- **ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ**: `768px - 1024px`
- **ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—**: `1024px+`

## ğŸš€ æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤

### ãƒ“ãƒ«ãƒ‰ã¨èµ·å‹•

```bash
# ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
npm run build

# æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm start
```

### Vercelã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤

æ¨å¥¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¯ [Vercel](https://vercel.com) ã§ã™ã€‚

1. GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’Vercelã«æ¥ç¶š
2. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
3. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’æœ‰åŠ¹åŒ–

## ğŸ”§ ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

### é–‹ç™ºæ™‚ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼

```
localhost/:1 Unchecked runtime.lastError: The message port closed before a response was received.
```

ã“ã‚Œã¯ãƒ–ãƒ©ã‚¦ã‚¶æ‹¡å¼µæ©Ÿèƒ½ã¨ã®ç«¶åˆã«ã‚ˆã‚‹ã‚‚ã®ã§ã€ã‚¢ãƒ—ãƒªã®å‹•ä½œã«ã¯å½±éŸ¿ã—ã¾ã›ã‚“ã€‚

### React Hooks ã‚¨ãƒ©ãƒ¼

Hooksã¯å¸¸ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã§å‘¼ã³å‡ºã—ã€æ¡ä»¶åˆ†å²å†…ã§ã¯ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚

### Firebaseæ¥ç¶šã‚¨ãƒ©ãƒ¼

ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚

## ğŸ“‹ é–‹ç™ºãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] TypeScriptã‚¨ãƒ©ãƒ¼ãŒè§£æ¶ˆã•ã‚Œã¦ã„ã‚‹
- [ ] ESLintãƒã‚§ãƒƒã‚¯ã‚’ãƒ‘ã‚¹ã—ã¦ã„ã‚‹
- [ ] ãƒ¢ãƒã‚¤ãƒ«ãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã§ã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ç¢ºèª
- [ ] æŠ•ç¥¨æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
- [ ] Firebaseè¨­å®šã®å‹•ä½œç¢ºèª

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. featureãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
2. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ
3. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ
4. ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾Œã«ãƒãƒ¼ã‚¸

---

**ä½œæˆè€…**: Blue-Soul Development Team  
**æœ€çµ‚æ›´æ–°**: 2024å¹´
